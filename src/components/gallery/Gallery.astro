---
const images = [
  {
    src:"/assets/gallery/item1.png",
    alt:"garden"
},
  {
    src:"/assets/gallery/item2.png",
    alt:"garden"
},
  {
    src:"/assets/gallery/item3.png",
    alt:"garden"
},
  {
    src:"/assets/gallery/zahrada.png",
    alt:"garden"
},
  {
    src:"/assets/gallery/travnik1.png",
    alt:"garden"
},
  {
    src:"/assets/gallery/kaceni-stromu.png",
    alt:"garden"
},
  {
    src:"/assets/gallery/img7.jpg",
    alt:"garden"
},
  {
    src:"/assets/gallery/img1.jpg",
    alt:"garden"
},

{
    src:"/assets/gallery/item4.png",
    alt:"garden"
},

];
---

<div class="gallery">

		{images.map((image) => (
			<div class="gallery-item">
				<img class="gallery-image" src={image.src} alt={image.alt} />
			</div>
		))} 

	</div>

	<div id="imageModal" class="modal">
  		<span class="close-button">&times;</span>
  		<img class="modal-content" id="fullImage">
	</div>

  <style>
    .container {
	max-width: 100rem;
	margin: 0 auto;
	padding: 0 2rem 2rem;
}





.gallery {
	display: flex;
	flex-wrap: wrap;
	/* Compensate for excess margin on outer gallery flex items */
	margin: -1rem -1rem;
}

.gallery-item {
	/* Minimum width of 24rem and grow to fit available space */
	flex: 0 0 24rem;
	/* Margin value should be half of grid-gap value as margins on flex items don't collapse */
	aspect-ratio: 1 / 1; /* Makes item a square */
	margin: 1rem;
	box-shadow: 0.3rem 0.4rem 0.4rem rgba(0, 0, 0, 0.4);
	overflow: hidden;
}

.gallery-image {
	display: block;
	width: 100%;
	height: 100%;
	object-fit: cover;
	transition: transform 400ms ease-out;
}

.gallery-image:hover {
	transform: scale(1.15);
}

/*

The following rule will only run if your browser supports CSS grid.

Remove or comment-out the code block below to see how the browser will fall-back to flexbox styling. 

*/

/* Modal Background */
.modal {
    display: none; /* Hidden by default */
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.9);
    backdrop-filter: blur(5px);
    cursor: pointer;
}

/* Modal Image */
.modal-content {
    margin: auto;
    display: block;
    max-width: 80%;
    max-height: 80%;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border: 3px solid white;
    border-radius: 4px;
}

/* Close Button */
.close-button {
    position: absolute;
    top: 20px;
    right: 35px;
    color: #f1f1f1;
    font-size: 40px;
    font-weight: bold;
    cursor: pointer;
}

.close-button:hover {
    color: #bbb;
}

@supports (display: grid) {
	.gallery {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(24rem, 1fr));
		grid-gap: 2rem;
	}

	.gallery,
	.gallery-item {
		margin: 0;
	}
}

  </style>

  <script>
  document.addEventListener('click', (e) => {
    const target = e.target as HTMLElement;
    // Check if what we clicked is a gallery image
    if (target && target.classList.contains('gallery-image')) {
      const modal = document.getElementById("imageModal") as HTMLDivElement;
      const modalImg = document.getElementById("fullImage") as HTMLImageElement;
      
      if (modal && modalImg) {
        modal.style.display = "block";
        modalImg.src = (target as HTMLImageElement).src;
      }
    }
    
    // Check if we clicked the close button or the modal background
    if (target && (target.id === 'imageModal' || target.classList.contains('close-button'))) {
      const modal = document.getElementById("imageModal") as HTMLDivElement;
      if (modal) {
        modal.style.display = "none";
      }
    }
  });
</script>